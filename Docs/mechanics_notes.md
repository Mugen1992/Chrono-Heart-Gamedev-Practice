# Хроно-Сердце — Игровые механики

## 1. Архитектура
Компонентный подход: каждая функциональность (движение, управление временем, интерактивы) оформлена отдельным скриптом-компонентом.  
Взаимодействие через интерфейсы: `ITimeAffectable` для объектов, реагирующих на время; `IInteractable` для рычагов, плит и др.

## 2. Управление игроком (Ког)
- **Движение:** перемещение, прыжок с `coyote time` (~0,12 c) и `jump buffer` (~0,1 c).
- **Wall-slide:** замедленное скольжение по стенам с контролем скорости падения.
- **Dash:** импульс в выбранном направлении с i-frames (~0,12 c) и КД 1,0 c.
- **Хроно-импульс:** локальная сфера воздействия на время (см. раздел 4).

## 3. Ключевая механика — «Хроно-импульс»
- **Радиус:** 5 м.
- **Длительность:** 3 c.
- **КД:** 8 c.
- **Энергия:** 25% шкалы.
- **Режимы:** замедление / ускорение / откат.
- **Матрица влияния:**
  - Замедление: прессы медленнее, турели реже стреляют, враги теряют темп.
  - Ускорение: мостки поднимаются быстрее, конвейеры ускоряются.
  - Откат: паук возвращается на старую позицию, платформа откатывается в исходное положение.

## 4. Интерактивы
Рычаги, напольные плиты, вращающиеся механизмы — все реализуют `IInteractable`.  
Однотипное взаимодействие (одна кнопка), внутренняя логика у каждого объекта своя.

## 5. Уровни и биомы
- **Заводная пуща:** заржавевшие шестерни, металлическая «растительность».
- **Стеклянное озеро:** мосты на фоне гигантской линзы с эффектами преломления света.
- **Часовой цех:** движущиеся платформы, прессы, шестерни.
Навигация в стиле метроидвании: возврат в зоны с новыми способностями, гейты и секреты.

## 6. Враги и NPC
- **Враги:** «Часовой паук» (патрулирует и атакует в ближнем бою), «Ржавые» (разные типы с уникальными паттернами).
- **NPC:** Архивариус (лор), Кузнец (улучшения), Навигатор (карта/советы).

## 7. Камера и HUD
- Камера: мягкое слежение, dead-zone, приоритет читаемости.
- HUD: таймер, индикаторы энергии и КД «Хроно-импульса».
- Доступность: высокий контраст, отключаемый скриншейк.

## 8. Аудио
- Основные слои: механический шум, пар, тиканье, музыкальные акценты при активации импульса.
- SFX «Хроно-импульса»: искажение и реверберация.

## 9. Сохранения
JSON или локальное хранилище: сохранение прогресса, найденных улучшений и лучших времён.

## 10. Принципы сложности
Рост сложности через комбинацию механик, пазлов и тайминг-заданий, а не увеличение ХП врагов.

## 11. Тест-чек-лист
- Все атаки телеграфированы.
- Нет «мёртвых» прыжков без шанса достичь платформы.
- Время прохождения уровня ≤ 90 c.
- Корректный респаун после смерти.
